<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HTML5 Web Workers</title>
</head>
<body>
	<p>
		计数:
		<output id="result"></output>
	</p>
	<button onclick="startWorker()">开始 Worker</button>
	<button onclick="stopWorker()">停止 Worker</button>
	<br />
	<br />
	<script>
		var w;

		function startWorker() {
			if (typeof (Worker) !== "undefined") {
				if (typeof (w) == "undefined") {
					w = new Worker("/example/html5/demo_workers.js");
				}
				w.onmessage = function(event) {
					document.getElementById("result").innerHTML = event.data;
				};
			} else {
				document.getElementById("result").innerHTML = "Sorry, your browser does not support Web Workers...";
			}
		}

		function stopWorker() {
			w.terminate();
		}
	</script>
</body>
</html>